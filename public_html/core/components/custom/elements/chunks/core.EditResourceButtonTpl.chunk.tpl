[[!If?
  &subject=`[[+modx.user.id]]`
  &operator=`empty`
  &then=`
  <!-- we dont know who the user is, show no button -->
  `&else=`<!-- show the logged in user the edit resource button -->[[!FormIt? &submitVar=`edit_resource`&hooks=`spam,redirect`&store=`1`&validate=`content:allowTags:escape,SideContentTV:allowTags:escape,PageBox01TV:allowTags:escape,PageBox02TV:allowTags:escape,PageBox03TV:allowTags:escape,PageBox04TV:allowTags:escape`&redirectTo=`[[++custom.edit_resource]]`]]<form action="[[~[[*id]]]]" method="post"><input type="hidden" name="nospam" value="" /><input type="hidden" name="id" id="id" value="[[*id]]" /><input type="hidden" name="url" id="url" value="[[~[[*id]]]]" /><input type="hidden" name="parent" id="parent" value="[[*parent]]" /><input type="hidden" name="pagetitle" id="pagetitle" value="[[*pagetitle]]" /><input type="hidden" name="menutitle" id="menutitle" value="[[*menutitle]]" /><input type="hidden" name="longtitle" id="longtitle" value="[[*longtitle]]" /><input type="hidden" name="description" id="description" value="[[*description]]" /><input type="hidden" name="introtext" id="introtext" value="[[*introtext]]" /><input type="hidden" name="alias" id="alias" value="[[*alias]]" /><input type="hidden" name="content" id="content" value="[[*content:allowTags:escape]]" /><input type="hidden" name="BreadCrumbTV" id="BreadCrumbTV" value="[[*BreadCrumbTV]]" /><input type="hidden" name="SideBarTV" id="SideBarTV" value="[[*SideBarTV]]" /><input type="hidden" name="SideContentTV" id="SideContentTV" value="[[*SideContentTV:allowTags:escape]]" /><input type="hidden" name="NumberOfPageBoxesTV" id="NumberOfPageBoxesTV" value="[[*NumberOfPageBoxesTV]]" /><input type="hidden" name="PageBox01TV" id="PageBox01TV" value="[[*PageBox01TV:allowTags:escape]]" /><input type="hidden" name="PageBox02TV" id="PageBox02TV" value="[[*PageBox02TV:allowTags:escape]]" /><input type="hidden" name="PageBox03TV" id="PageBox03TV" value="[[*PageBox03TV:allowTags:escape]]" /><input type="hidden" name="PageBox04TV" id="PageBox04TV" value="[[*PageBox04TV:allowTags:escape]]" /><input type="hidden" name="SubpagesTV" id="SubpagesTV" value="[[*SubpagesTV]]" /><input type="submit" name="edit_resource" class="nice small radius [[++custom.theme_color]] button" style="font-weight:bold;" value="[[%custom.label_edit_resource? &namespace=`custom`]]" /></form>`]]